{"version":3,"file":"oauth.min.js","sources":["oauth.js"],"names":["root","factory","define","amd","OAuth","exports","module","this","Error","Request","StorageManager","configuration","_storage","localStorage","_storageKey","Storage","storage","undefined","sessionStorage","storageKey","prototype","getAccessToken","accessTokenResponse","getAccessTokenResponse","accessToken","access_token","rawAccessTokenResponse","getItem","JSON","parse","getRefreshToken","refreshToken","refresh_token","persistRawAccessTokenResponse","setItem","AngularRequestManager","start","BackboneRequestManager","_backupedBackboneDotAjax","_clientType","_loginFn","_parseErrorFn","_clientId","_storageManager","_tokenEndpoint","Backbone","ajax","loginFn","clientId","tokenEndpoint","parseErrorFn","getStorageManager","getLoginStatus","cb","status","authResponse","_onLoginError","_onLoginSuccess","credentials","ajaxPromise","grant_type","$","contentType","data","client_id","username","password","type","url","facebook_access_token","facebook_app_scoped_user_id","done","proxy","stringify","login","credentialsPromise","Deferred","fail","logout","This","_overwrittenBackboneDotAjax","apply","arguments","_cloneAjaxArguments","ajaxArguments","clonedAjaxArguments","length","_cloneAjaxSettings","ajaxSettings","settingsAttributes","clonedAjaxSettings","i","_jQueryAjaxPromiseDone","originalAjaxArguments","oauthPromise","textStatus","jqXHR","resolve","_jQueryAjaxPromiseFail","errorThrown","action","_refreshAccessToken","_reniewAccessToken","reject","_updateAjaxArgumentsWithAccessToken","secured","indexOf","jQueryAjaxPromise","_onOriginalRequestReplayedDone","oAuthPromise","_onOriginalRequestReplayedFail","_onRefreshAccessTokenSuccess","_onReniewAccessTokenSuccess","dataType","console","log","_onCredentialsPromiseDone","credentialsSettings","init","framework","settings","_requestManager","opts"],"mappings":"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"}