{"version":3,"file":"oauth.min.js","sources":["oauth.js"],"names":["root","factory","define","amd","OAuth","exports","module","this","Error","Request","StorageManager","configuration","_storage","localStorage","_storageKey","Storage","storage","undefined","sessionStorage","storageKey","prototype","getAccessToken","accessTokenResponse","getAccessTokenResponse","accessToken","access_token","rawAccessTokenResponse","getItem","JSON","parse","getRefreshToken","refreshToken","refresh_token","persistRawAccessTokenResponse","setItem","DefaultErrorParser","xMLHttpRequest","status","responseText","AngularRequestManager","start","BackboneRequestManager","_backupedBackboneDotAjax","_clientType","_loginFn","_errorParser","_grantType","_storageManager","_tokenEndpoint","Backbone","ajax","loginFn","grantType","tokenEndpoint","errorParser","getStorageManager","getLoginStatus","cb","authResponse","_onLoginError","_onLoginSuccess","credentials","ajaxPromise","$","contentType","data","grant_type","client_id","username","password","type","url","done","proxy","stringify","login","credentialsPromise","Deferred","fail","logout","This","_overwrittenBackboneDotAjax","apply","arguments","_cloneAjaxArguments","ajaxArguments","clonedAjaxArguments","length","_cloneAjaxSettings","ajaxSettings","settingsAttributes","clonedAjaxSettings","i","_jQueryAjaxPromiseDone","originalAjaxArguments","oauthPromise","textStatus","jqXHR","resolve","_jQueryAjaxPromiseFail","errorThrown","action","_refreshAccessToken","_reniewAccessToken","reject","_updateAjaxArgumentsWithAccessToken","indexOf","jQueryAjaxPromise","_onOriginalRequestReplayedDone","oAuthPromise","_onOriginalRequestReplayedFail","_onRefreshAccessTokenSuccess","_onReniewAccessTokenSuccess","dataType","console","log","_onCredentialsPromiseDone","credentialsSettings","init","framework","settings","_requestManager","opts"],"mappings":"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"}