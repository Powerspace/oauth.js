{"version":3,"file":"oauth.min.js","sources":["oauth.js"],"names":["root","factory","define","amd","OAuth","exports","module","this","AccessToken","Error","Request","ABNFUtils","isValidGrantName","isValidGrantType","isValidNameChar","isValidOneStarDIGIT","isValidOneStarNQCHAR","isValidOneStarNQSCHAR","isValidOneStarVSCHAR","isValidResponseChar","isValidResponseName","isValidResponseType","isValidScope","isValidScopeToken","string","isValidStarNQCHAR","isValidStarUNICODECHARNOCRLF","isValidTokenType","isValidTypeName","isValidURIReference","AuthStatus","settings","_accessTokenResponse","_status","getAccessTokenResponse","isConnected","isDisconnected","toJSON","status","accessTokenResponse","toString","JSON","stringify","createFromString","authStatusJson","parse","isJsonValid","syntaxError","jsonObject","valid","AbstractResponse","FunctionUtils","bind","func","context","args","bound","ctor","slice","Array","prototype","nativeBind","Function","apply","call","arguments","TypeError","concat","self","result","Object","LoginContext","_credentials","_loginCb","_loginFnCb","_loginFnOpts","_loginOpts","_requestManager","getCredentials","getLoginCb","getLoginFnCb","sendCredentials","credentials","loginFnCb","loginFnOpts","_login","_setLoginCb","loginCb","_setLoginOpts","loginOpts","_setRequestManager","requestManager","Promise","executor","_fullfillmentListeners","_rejectionListeners","_state","value","i","length","then","onFulfilled","onRejected","push","StorageManager","configuration","_accessTokenResponseParser","ResponseParser","_storage","localStorage","_storageKey","Storage","storage","undefined","sessionStorage","storageKey","clear","removeItem","getAccessToken","accessToken","access_token","rawAccessTokenResponse","getItem","getRefreshToken","refreshToken","refresh_token","persistRawAccessTokenResponse","setItem","getAuthStatus","persistAccessTokenResponse","xhr","readyState","DONE","authStatus","isSuccessful","UrlUtils","addArgument","url","name","updatedUrl","nameEqual","argumentPos","indexOf","prefix","substring","suffix","nextArgumentPos","toQueryString","object","queryString","key","XhrUtils","statusText","response","responseText","responseXML","_jsonResponse","_xhr","getJsonResponse","getXhr","setJsonResponse","jsonResponse","setXhr","error","ErrorResponse","isJsonResponseValid","SuccessfulResponse","isJsonXhrValid","jsonXhr","CriticalErrorResponse","setError","criticalErrorCodes","_error","getError","isCriticalError","test","isExtensionError","isStandardError","standardErrorCodes","isError","hasOwnProperty","parseCriticalErrorNotJsonResponse","parseCriticalErrorResponse","parseErrorResponse","parseSuccessfulResponse","AbstractRequestManager","_storageManager","_tokenEndpoint","getLoginStatus","cb","authResponse","logout","logoutCb","AngularRequestManager","_$provide","$provide","_loginFn","loginFn","clientId","_clientId","tokenEndpoint","parseErrorFn","_parseErrorFn","opts","_loginContext","XMLHttpRequest","grant_type","open","setRequestHeader","send","client_id","username","password","onreadystatechange","_onreadystatechangeTokenEndpointPost","_onTokenEndpointPost","promise","resolve","reject","login","_$httpGet","augmentedArguments","params","_$http","get","start","This","decorator","$delegate","wrapper","_open","slicedArguments","clonedOpenArguments","_cloneOpenArguments","_augmentOpenArguments","console","log","_backupedOpen","loginContext","BackboneRequestManager","_backupedBackboneDotAjax","_clientType","Backbone","ajax","getStorageManager","_onTokenEndpointPostError","jqXHR","deferred","$","Deferred","responseJSON","done","_onTokenEndpointPostSuccess","data","ajaxPromise","contentType","type","facebook_access_token","facebook_app_scoped_user_id","proxy","fail","_overwrittenBackboneDotAjax","_cloneAjaxArguments","ajaxArguments","clonedAjaxArguments","_cloneAjaxSettings","ajaxSettings","settingsAttributes","clonedAjaxSettings","_createOAuthPromise","jQueryAjaxPromise","oAuthPromise","getResponseHeader","getAllResponseHeaders","overrideMimeType","statusCode","map","abort","success","_jQueryAjaxPromiseDone","originalAjaxArguments","oauthPromise","textStatus","_jQueryAjaxPromiseFail","errorThrown","action","_refreshAccessToken","_reniewAccessToken","_updateAjaxArgumentsWithAccessToken","secured","_onOriginalRequestReplayedDone","_onOriginalRequestReplayedFail","_onRefreshAccessTokenSuccess","overwittenAjaxArguments","_onReniewAccessTokenSuccess","dataType","_onCredentialsPromiseDone","credentialsSettings","init","framework","forceServerCall"],"mappings":"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"}