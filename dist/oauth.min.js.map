{"version":3,"file":"oauth.min.js","sources":["oauth.js"],"names":["root","factory","define","amd","OAuth","exports","module","this","Error","Request","StorageManager","configuration","_storage","localStorage","_storageKey","Storage","storage","undefined","sessionStorage","storageKey","prototype","getAccessToken","accessTokenResponse","getAccessTokenResponse","accessToken","access_token","rawAccessTokenResponse","getItem","JSON","parse","getRefreshToken","refreshToken","refresh_token","persistRawAccessTokenResponse","setItem","AngularRequestManager","start","BackboneRequestManager","_backupedBackboneDotAjax","_clientType","_loginFn","_parseErrorFn","_clientId","_storageManager","_tokenEndpoint","Backbone","ajax","loginFn","clientId","tokenEndpoint","parseErrorFn","getStorageManager","getLoginStatus","cb","status","authResponse","_onLoginError","_onLoginSuccess","credentials","loginFnCb","ajaxPromise","grant_type","$","contentType","data","client_id","username","password","type","url","facebook_access_token","facebook_app_scoped_user_id","done","proxy","stringify","deferred","Deferred","resolve","login","callback","fail","logout","This","_overwrittenBackboneDotAjax","apply","arguments","_cloneAjaxArguments","ajaxArguments","clonedAjaxArguments","length","_cloneAjaxSettings","ajaxSettings","settingsAttributes","clonedAjaxSettings","i","_createOAuthPromise","jQueryAjaxPromise","oAuthPromise","getResponseHeader","key","getAllResponseHeaders","setRequestHeader","name","value","overrideMimeType","statusCode","map","abort","statusText","success","error","readyState","_jQueryAjaxPromiseDone","originalAjaxArguments","oauthPromise","textStatus","jqXHR","_jQueryAjaxPromiseFail","errorThrown","action","_refreshAccessToken","_reniewAccessToken","reject","_updateAjaxArgumentsWithAccessToken","secured","indexOf","_onOriginalRequestReplayedDone","_onOriginalRequestReplayedFail","_onRefreshAccessTokenSuccess","_onReniewAccessTokenSuccess","dataType","console","log","credentialsPromise","_onCredentialsPromiseDone","credentialsSettings","init","framework","settings","_requestManager","opts"],"mappings":"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"}