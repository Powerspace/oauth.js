{"version":3,"file":"oauth.min.js","sources":["oauth.js"],"names":["root","factory","define","amd","OAuth","exports","module","this","Error","Request","StorageManager","configuration","_storage","localStorage","_storageKey","Storage","storage","undefined","sessionStorage","storageKey","prototype","getAccessToken","accessTokenResponse","getAccessTokenResponse","accessToken","access_token","rawAccessTokenResponse","getItem","JSON","parse","getRefreshToken","refreshToken","refresh_token","persistRawAccessTokenResponse","setItem","AngularRequestManager","start","BackboneRequestManager","_backupedBackboneDotAjax","_clientType","_loginFn","_parseErrorFn","_clientId","_storageManager","_tokenEndpoint","Backbone","ajax","loginFn","clientId","tokenEndpoint","parseErrorFn","getStorageManager","getLoginStatus","cb","status","authResponse","_onLoginError","options","console","log","_onTokenEndpointPostError","jqXHR","textStatus","errorThrown","loginFnCb","deferred","$","Deferred","responseJSON","error","resolve","done","_onTokenEndpointPostSuccess","data","stringify","_onLoginSuccess","credentials","ajaxPromise","grant_type","contentType","client_id","username","password","type","url","facebook_access_token","facebook_app_scoped_user_id","proxy","fail","login","callback","logout","This","_overwrittenBackboneDotAjax","apply","arguments","_cloneAjaxArguments","ajaxArguments","clonedAjaxArguments","length","_cloneAjaxSettings","ajaxSettings","settingsAttributes","clonedAjaxSettings","i","_createOAuthPromise","jQueryAjaxPromise","oAuthPromise","getResponseHeader","key","getAllResponseHeaders","setRequestHeader","name","value","overrideMimeType","statusCode","map","abort","statusText","success","readyState","_jQueryAjaxPromiseDone","originalAjaxArguments","oauthPromise","_jQueryAjaxPromiseFail","action","_refreshAccessToken","_reniewAccessToken","reject","_updateAjaxArgumentsWithAccessToken","secured","indexOf","_onOriginalRequestReplayedDone","_onOriginalRequestReplayedFail","_onRefreshAccessTokenSuccess","_onReniewAccessTokenSuccess","dataType","credentialsPromise","_onCredentialsPromiseDone","credentialsSettings","init","framework","settings","_requestManager","opts"],"mappings":"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"}