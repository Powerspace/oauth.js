{"version":3,"file":"oauth.min.js","sources":["oauth.js"],"names":["root","factory","define","amd","OAuth","exports","module","this","Error","Request","LoginContext","_credentials","_loginCb","_loginFnCb","_loginFnOpts","_loginOpts","_requestManager","prototype","getCredentials","getLoginCb","getLoginFnCb","sendCredentials","credentials","loginFnCb","loginFnOpts","_login","_setLoginCb","loginCb","_setLoginOpts","loginOpts","_setRequestManager","requestManager","StorageManager","configuration","_storage","localStorage","_storageKey","Storage","storage","undefined","sessionStorage","storageKey","getAccessToken","accessTokenResponse","getAccessTokenResponse","accessToken","access_token","rawAccessTokenResponse","getItem","JSON","parse","getRefreshToken","refreshToken","refresh_token","persistRawAccessTokenResponse","setItem","UrlUtils","addArgument","url","name","value","updatedUrl","nameEqual","argumentPos","indexOf","prefix","substring","length","suffix","nextArgumentPos","AngularRequestManager","start","BackboneRequestManager","_backupedBackboneDotAjax","_loginContext","_clientType","_loginFn","_parseErrorFn","_clientId","_storageManager","_tokenEndpoint","Backbone","ajax","loginFn","clientId","tokenEndpoint","parseErrorFn","getStorageManager","getLoginStatus","cb","status","authResponse","_onTokenEndpointPostError","jqXHR","deferred","$","Deferred","responseJSON","error","resolve","done","_onTokenEndpointPostSuccess","data","stringify","loginContext","ajaxPromise","grant_type","contentType","client_id","username","password","type","facebook_access_token","facebook_app_scoped_user_id","proxy","fail","login","opts","logout","This","_overwrittenBackboneDotAjax","apply","arguments","_cloneAjaxArguments","ajaxArguments","clonedAjaxArguments","_cloneAjaxSettings","ajaxSettings","settingsAttributes","clonedAjaxSettings","i","_createOAuthPromise","jQueryAjaxPromise","oAuthPromise","getResponseHeader","key","getAllResponseHeaders","setRequestHeader","overrideMimeType","statusCode","map","abort","statusText","success","readyState","_jQueryAjaxPromiseDone","originalAjaxArguments","oauthPromise","textStatus","_jQueryAjaxPromiseFail","errorThrown","action","_refreshAccessToken","_reniewAccessToken","reject","_updateAjaxArgumentsWithAccessToken","secured","_onOriginalRequestReplayedDone","_onOriginalRequestReplayedFail","_onRefreshAccessTokenSuccess","overwittenAjaxArguments","_onReniewAccessTokenSuccess","dataType","console","log","_onCredentialsPromiseDone","credentialsSettings","init","framework","settings"],"mappings":"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"}