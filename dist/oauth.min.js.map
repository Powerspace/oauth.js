{"version":3,"file":"oauth.min.js","sources":["oauth.js"],"names":["root","factory","define","amd","OAuth","exports","module","this","Error","Request","StorageManager","configuration","_storage","localStorage","_storageKey","Storage","storage","undefined","sessionStorage","storageKey","prototype","getAccessToken","accessTokenResponse","getAccessTokenResponse","accessToken","access_token","rawAccessTokenResponse","getItem","JSON","parse","getRefreshToken","refreshToken","refresh_token","persistRawAccessTokenResponse","setItem","AngularRequestManager","start","BackboneRequestManager","_backupedBackboneDotAjax","_clientType","_loginFn","_parseErrorFn","_clientId","_storageManager","_tokenEndpoint","Backbone","ajax","loginFn","clientId","tokenEndpoint","parseErrorFn","getStorageManager","getLoginStatus","cb","status","authResponse","_onLoginError","options","console","log","_onTokenEndpointPostError","jqXHR","textStatus","errorThrown","loginFnCb","deferred","$","Deferred","data","resolve","done","_onTokenEndpointPostSuccess","stringify","_onLoginSuccess","credentials","ajaxPromise","grant_type","contentType","client_id","username","password","type","url","facebook_access_token","facebook_app_scoped_user_id","proxy","fail","login","callback","logout","This","_overwrittenBackboneDotAjax","apply","arguments","_cloneAjaxArguments","ajaxArguments","clonedAjaxArguments","length","_cloneAjaxSettings","ajaxSettings","settingsAttributes","clonedAjaxSettings","i","_createOAuthPromise","jQueryAjaxPromise","oAuthPromise","getResponseHeader","key","getAllResponseHeaders","setRequestHeader","name","value","overrideMimeType","statusCode","map","abort","statusText","success","error","readyState","_jQueryAjaxPromiseDone","originalAjaxArguments","oauthPromise","_jQueryAjaxPromiseFail","action","_refreshAccessToken","_reniewAccessToken","reject","_updateAjaxArgumentsWithAccessToken","secured","indexOf","_onOriginalRequestReplayedDone","_onOriginalRequestReplayedFail","_onRefreshAccessTokenSuccess","_onReniewAccessTokenSuccess","dataType","credentialsPromise","_onCredentialsPromiseDone","credentialsSettings","init","framework","settings","_requestManager","opts"],"mappings":"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"}