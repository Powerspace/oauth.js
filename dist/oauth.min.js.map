{"version":3,"file":"oauth.min.js","sources":["oauth.js"],"names":["ErrorParser","prototype","parse","xMLHttpRequest","status","responseText","OAuth2Client","configuration","this","_accessTokenResponseStorage","_tokenEndpoint","Error","tokenEndpoint","AccessTokenResponseStorage","_backupedBackboneDotAjax","StorageManager","_storage","localStorage","_storageKey","Storage","storage","undefined","sessionStorage","storageKey","getAccessToken","accessTokenResponse","getAccessTokenResponse","accessToken","access_token","rawAccessTokenResponse","getItem","JSON","getRefreshToken","refreshToken","refresh_token","persistRawAccessTokenResponse","setItem","BackboneRequestManager","_clientType","_errorParser","_storageManager","Backbone","ajax","errorParser","getStorageManager","start","This","_overwrittenBackboneDotAjax","apply","arguments","_cloneAjaxArguments","ajaxArguments","clonedAjaxArguments","length","_cloneAjaxSettings","ajaxSettings","settingsAttributes","clonedAjaxSettings","i","_jQueryAjaxPromiseDone","originalAjaxArgs","oauthPromise","data","textStatus","jqXHR","resolve","_jQueryAjaxPromiseFail","errorThrown","action","_refreshAccessToken","_reniewAccessToken","reject","_updateAjaxArgumentsWithAccessToken","indexOf","url","a","b","c","console","log","originalAjaxArguments","jQueryAjaxPromise","$","Deferred","fail","proxy","done","_onOriginalAjaxReplayedDone","oAuthPromise","_onOriginalAjaxReplayedFail","_onRefreshAccessTokenSuccess","stringify","ajaxPromise","grant_type","dataType","type"],"mappings":"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"}