{"version":3,"file":"oauth.min.js","sources":["oauth.js"],"names":["root","factory","define","amd","OAuth","exports","module","this","Error","Request","CredentialsPromise","_loginCb","_loginOpts","_deferred","_deferredResolved","_requestManager","prototype","sendCredentials","credentials","loginFnCb","login","resolve","_getLoginCb","_setLoginCb","loginCb","_setLoginOpts","loginOpts","_setDeferred","deferred","_setRequestManager","requestManager","StorageManager","configuration","_storage","localStorage","_storageKey","Storage","storage","undefined","sessionStorage","storageKey","getAccessToken","accessTokenResponse","getAccessTokenResponse","accessToken","access_token","rawAccessTokenResponse","getItem","JSON","parse","getRefreshToken","refreshToken","refresh_token","persistRawAccessTokenResponse","setItem","AngularRequestManager","start","BackboneRequestManager","_backupedBackboneDotAjax","_clientType","_loginFn","_parseErrorFn","_clientId","_storageManager","_tokenEndpoint","Backbone","ajax","loginFn","clientId","tokenEndpoint","parseErrorFn","getStorageManager","getLoginStatus","cb","status","authResponse","_onTokenEndpointPostError","credentialsPromise","jqXHR","$","Deferred","responseJSON","error","done","_onTokenEndpointPostSuccess","data","stringify","_onLoginError","options","console","log","_onLoginSuccess","ajaxPromise","grant_type","contentType","client_id","username","password","type","url","facebook_access_token","facebook_app_scoped_user_id","proxy","fail","opts","cp","logout","This","_overwrittenBackboneDotAjax","apply","arguments","_cloneAjaxArguments","ajaxArguments","clonedAjaxArguments","length","_cloneAjaxSettings","ajaxSettings","settingsAttributes","clonedAjaxSettings","i","_createOAuthPromise","jQueryAjaxPromise","oAuthPromise","getResponseHeader","key","getAllResponseHeaders","setRequestHeader","name","value","overrideMimeType","statusCode","map","abort","statusText","success","readyState","_jQueryAjaxPromiseDone","originalAjaxArguments","oauthPromise","textStatus","_jQueryAjaxPromiseFail","errorThrown","action","_refreshAccessToken","_reniewAccessToken","reject","_updateAjaxArgumentsWithAccessToken","secured","indexOf","_onOriginalRequestReplayedDone","_onOriginalRequestReplayedFail","_onRefreshAccessTokenSuccess","_onReniewAccessTokenSuccess","dataType","_onCredentialsPromiseDone","credentialsSettings","init","framework","settings"],"mappings":"CAAC,SAASA,EAAMC,GAEU,kBAAXC,SAAyBA,OAAOC,IAEvCD,UAAW,WAEP,MAAQF,GAAKI,MAAQH,EAAQD,KAMT,mBAAZK,SAEZC,OAAOD,QAAUJ,EAAQD,GAMzBA,EAAKI,MAAQH,EAAQD,IAI3BO,KAAM,WAEJ,YAKA,IAAIH,IAKEI,SAKAC,WA0vCN,OA9uCAL,GAAMM,mBAAqB,WAOvBH,KAAKI,SAAW,KAOhBJ,KAAKK,WAAa,KAOlBL,KAAKM,UAAY,KAQjBN,KAAKO,mBAAoB,EAOzBP,KAAKQ,gBAAkB,MAI3BX,EAAMM,mBAAmBM,WASrBC,gBAAkB,SAASC,EAAaC,GAEjCZ,KAAKO,kBAEJP,KAAKQ,gBAAgBK,MAAMb,KAAKI,SAAUJ,KAAKK,WAAYL,OAI3DA,KAAKM,UAAUQ,QAAQH,EAAaC,GAEpCZ,KAAKO,mBAAoB,IAYjCQ,YAAc,WAEV,MAAOf,MAAKI,UAUhBY,YAAc,SAASC,GAEnBjB,KAAKI,SAAWa,GASpBC,cAAgB,SAASC,GAErBnB,KAAKK,WAAac,GAUtBC,aAAe,SAASC,GAEpBrB,KAAKM,UAAYe,GASrBC,mBAAqB,SAASC,GAE1BvB,KAAKQ,gBAAkBe,IAU/B1B,EAAM2B,eAAiB,SAASC,GAoB5B,GAVAzB,KAAK0B,SAAWC,aAOhB3B,KAAK4B,YAAc,WAGG,mBAAZC,SAEN,KAAM,IAAI5B,OAAM,oDAKpB,IAA4B,gBAAlBwB,GAA4B,CAGlC,OAAOA,EAAcK,SACjB,IAAK,QACL,IAAK,MACL,IAAKC,QACD/B,KAAK0B,SAAWC,YAChB,MACJ,KAAK,UACD3B,KAAK0B,SAAWM,cAChB,MACJ,SACI,KAAM,IAAI/B,OAAM,oCAIxBD,KAAK4B,YAAkD,gBAA7BH,GAAcQ,WAA0BR,EAAcQ,WAAa,aAMrGpC,EAAM2B,eAAef,WAOjByB,eAAiB,WAEb,GAAIC,GAAsBnC,KAAKoC,yBAC3BC,EAAsC,OAAxBF,EAA+BA,EAAoBG,aAAe,IAGpF,OAAuB,QAAhBD,GAAwCN,SAAhBM,EAA4B,KAAOA,GAStED,uBAAyB,WAErB,GAAIG,GAAyBvC,KAAK0B,SAASc,QAAQxC,KAAK4B,YAAc,uBAEtE,OAAkC,QAA3BW,EAAkCE,KAAKC,MAAMH,GAA0B,MASlFI,gBAAkB,WAEd,GAAIR,GAAsBnC,KAAKoC,yBAC3BQ,EAAuC,OAAxBT,EAA+BA,EAAoBU,cAAgB,IAGtF,OAAwB,QAAjBD,GAA0Cb,SAAjBa,EAA6B,KAAOA,GAUxEE,8BAAgC,SAASP,GAIrCvC,KAAK0B,SAASqB,QAAQ/C,KAAK4B,YAAc,uBAAwBW,KAKzE1C,EAAMK,QAAQ8C,sBAAwB,aACtCnD,EAAMK,QAAQ8C,sBAAsBvC,WAEhCwC,MAAQ,cAQZpD,EAAMK,QAAQgD,uBAAyB,SAASzB,GAwC5C,GAnCAzB,KAAKmD,yBAA2B,KAKhCnD,KAAKoD,YAAc,WAKnBpD,KAAKqD,SAAW,KAKhBrD,KAAKsD,cAAgB,KAKrBtD,KAAKuD,UAAY,KAKjBvD,KAAKwD,gBAAkB,KAOvBxD,KAAKyD,eAAiB,KAGC,mBAAbC,WAAyC,OAAbA,SAgBlC,KAAM,IAAIzD,OAAM,8BAbhB,IAA4B,kBAAlByD,UAASC,KAEf,KAAM,IAAI1D,OAAM,mDAgBxB,IAZID,KAAKmD,yBAA2BO,SAASC,KAYjB,gBAAlBlC,GAiDN,KAAM,IAAIxB,OAAM,uCA9ChB,IAAoC,kBAA1BwB,GAAcmC,QAEpB,KAAM,IAAI3D,OAAM,kCAOpB,IAHAD,KAAKqD,SAAW5B,EAAcmC,QAGO,mBAA3BnC,GAAcoC,SAEpB,KAAM,IAAI5D,OAAM,6BAOpB,IAHAD,KAAKuD,UAAY9B,EAAcoC,SAGW,gBAAhCpC,GAAcqC,cAEpB,KAAM,IAAI7D,OAAM,2DAOpB,IAHAD,KAAKyD,eAAiBhC,EAAcqC,cAGK,kBAA/BrC,GAAcsC,aAEpB,KAAM,IAAI9D,OAAM,wCAIpBD,MAAKsD,cAAgB7B,EAAcsC,aAGnC/D,KAAKwD,gBAAkB,GAAI3D,GAAM2B,gBAC7BM,QAAUL,EAAcK,QACxBG,WAAaR,EAAcQ,cAavCpC,EAAMK,QAAQgD,uBAAuBzC,WAOjCuD,kBAAoB,WAEhB,MAAOhE,MAAKwD,iBAUhBS,eAAiB,SAASC,GAYlBA,EAFiD,OAAlDlE,KAAKwD,gBAAgBpB,0BAIZ+B,OAAS,iBAWTA,OAAS,YACTC,aAAepE,KAAKwD,gBAAgBpB,4BAuBpDiC,0BAA4B,SAASC,EAAoB1D,EAAW2D,GAMhE,GAAwB,mBAAd3D,GAA2B,CAEjC,GAAIS,GAAWmD,EAAEC,UAEjB7D,IAEQuD,OAASI,EAAMG,aAAaC,MAC5BP,aAAeG,EAAMG,cAEzB,WAAarD,EAASP,YAI1BO,EAASuD,KAAK,WAEVN,EAAmBvD,eAEXoD,OAASI,EAAMG,aAAaC,MAC5BP,aAAeG,EAAMG,qBAWjCJ,GAAmBvD,eAEXoD,OAASI,EAAMG,aAAaC,MAC5BP,aAAeG,EAAMG,gBAqBrCG,4BAA8B,SAASP,EAAoB1D,EAAWkE,GAalE,GAJA9E,KAAKwD,gBAAgBV,8BAA8BL,KAAKsC,UAAUD,IAI1C,mBAAdlE,GAA2B,CAEjC,GAAIS,GAAWmD,EAAEC,UAEjB7D,IAEQuD,OAAS,YACTC,aAAeU,GAEnB,WAAazD,EAASP,YAI1BO,EAASuD,KAAK,WAEVN,EAAmBvD,eAEXoD,OAAS,YACTC,aAAeU,UAW3BR,GAAmBvD,eAEXoD,OAAS,YACTC,aAAeU,KAa/BE,cAAgB,SAASC,GAGrBC,QAAQC,IAAI,iBACZD,QAAQC,IAAIF,IAehBG,gBAAkB,SAASd,EAAoB3D,EAAaC,GAExD,GAAIyE,GAAc,IAElB,IAA8B,aAA3B1E,EAAY2E,WAEXD,EAAcb,EAAEb,MAER4B,YAAc,mDACdT,MACIQ,WAAa3E,EAAY2E,WACzBE,UAAYxF,KAAKuD,UACjBkC,SAAW9E,EAAY8E,SACvBC,SAAW/E,EAAY+E,UAE3BC,KAAO,OACPC,IAAK5F,KAAKyD,qBAIf,CAAA,GAA8B,iCAA3B9C,EAAY2E,WAkBlB,KAAM,IAAIrF,OAAM,2BAAgCU,EAAY2E,WAAa,MAhBzED,GAAcb,EAAEb,MAER4B,YAAc,mDACdT,MACIQ,WAAa3E,EAAY2E,WACzBE,UAAYxF,KAAKuD,UACjBsC,sBAAwBlF,EAAYkF,sBACpCC,4BAA8BnF,EAAYmF,6BAE9CH,KAAO,OACPC,IAAK5F,KAAKyD,iBAYtB4B,EAAYT,KAAKJ,EAAEuB,MAAM/F,KAAK6E,4BAA6B7E,KAAMsE,EAAoB1D,IACrFyE,EAAYW,KAAKxB,EAAEuB,MAAM/F,KAAKqE,0BAA2BrE,KAAMsE,EAAoB1D,KAcvFC,MAAQ,SAASI,EAASgF,EAAM3B,GAI5B,GAAqD,OAAlDtE,KAAKwD,gBAAgBpB,yBAAmC,CAGvD,GAAIf,GAAWmD,EAAEC,WAGbyB,EAAK5B,CAEL4B,KACAA,EAAK,GAAIrG,GAAMM,oBAGnB+F,EAAGlF,YAAYC,GACfiF,EAAGhF,cAAc+E,GACjBC,EAAG5E,mBAAmBtB,MACtBkG,EAAG9E,aAAaC,GAIhBrB,KAAKqD,SAAS6C,GAEd7E,EAASuD,KAAKJ,EAAEuB,MAAM/F,KAAKoF,gBAAiBpF,KAAMkG,IAClD7E,EAAS2E,KAAKxB,EAAEuB,MAAM/F,KAAKgF,cAAehF,KAAMkG,QAOhDjF,IAEQkD,OAAS,YACTC,aAAepE,KAAKwD,gBAAgBpB,4BAQpD+D,OAAS,aASTlD,MAAQ,WAIJ,GAAImD,GAAOpG,IAGX0D,UAASC,KAAO,WAEZ,MAAOyC,GAAKC,4BAA4BC,MAAMF,EAAMG,aAgB5DC,oBAAsB,SAASC,GAE3B,GAAIC,KAsBJ,OAnB+B,gBAArBD,GAAc,IAEpBC,EAAoB,GAAKD,EAAc,GAEL,IAA/BC,EAAoBC,SAEnBD,EAAoB,GAAK1G,KAAK4G,mBAAmBH,EAAc,MASnEC,EAAoB,GAAK1G,KAAK4G,mBAAmBH,EAAc,IAI5DC,GAcXE,mBAAqB,SAASC,GA0C1B,IAAI,GAtCAC,IACA,UACA,QACA,aACA,QACA,WACA,WACA,cACA,UACA,aACA,cACA,OACA,aACA,WACA,QACA,SACA,UACA,aACA,UACA,QACA,gBACA,WACA,WACA,cACA,gBACA,aACA,UACA,UACA,cACA,OACA,MACA,WACA,MACA,aAGAC,KAEIC,EAAI,EAAGA,EAAIF,EAAmBH,SAAUK,EAEM,mBAAxCH,GAAaC,EAAmBE,MAEtCD,EAAmBD,EAAmBE,IAAMH,EAAaC,EAAmBE,IAMpF,OAAOD,IAeXE,oBAAsB,SAASC,GAE3B,GAAIC,GAAe3C,EAAEC,UA2CrB,OAxCA0C,GAAaC,kBAAoB,SAASC,GACtC,MAAOH,GAAkBE,kBAAkBC,IAI/CF,EAAaG,sBAAwB,WACjC,MAAOJ,GAAkBI,yBAI7BH,EAAaI,iBAAmB,SAASC,EAAMC,GAE3C,MADAP,GAAkBK,iBAAiBC,EAAMC,GAClCzH,MAIXmH,EAAaO,iBAAmB,SAAS/B,GAErC,MADAuB,GAAkBQ,iBAAiB/B,GAC5B3F,MAIXmH,EAAaQ,WAAa,SAASC,GAE/B,MADAV,GAAkBS,WAAWC,GACtB5H,MAIXmH,EAAaU,MAAQ,SAASC,GAE1B,MADAZ,GAAkBW,MAAMC,GACjB9H,MAGXmH,EAAaY,QAAUZ,EAAavC,KACpCuC,EAAaxC,MAAQwC,EAAanB,KAElCmB,EAAaa,WAAad,EAAkBc,WAC5Cb,EAAahD,OAAS+C,EAAkB/C,OACxCgD,EAAaW,WAAaZ,EAAkBY,WAErCX,GAcXc,uBAAyB,SAASC,EAAuBC,EAAcrD,EAAMsD,EAAY7D,GAIrF4D,EAAarH,QAAQgE,EAAMsD,EAAY7D,IAiB3C8D,uBAAyB,SAASH,EAAuBC,EAAc5D,EAAOJ,EAAQmE,GAGlF,GAAIC,GAASvI,KAAKsD,cAAciB,EAGhC,IAAcxC,SAAXwG,EAEC,OAAOA,GACH,IAAK,UAIDvI,KAAKwI,oBAAoBN,EAAuBC,EAChD,MAEJ,KAAK,SAIDnI,KAAKyI,mBAAmBP,EAAuBC,EAC/C,MAEJ,SACI,KAAM,IAAIlI,OAAM,WAAcsI,EAAS,sBAU/CJ,GAAaO,OAAOnE,EAAOJ,EAAQmE,IAY3CK,oCAAsC,SAASlC,GAG3C,GAAIpE,GAAcrC,KAAKwD,gBAAgBtB,gBAGpCG,IAAeoE,EAAc,GAAGmC,UAGA,gBAArBnC,GAAc,IAGpBA,EAAc,IAAwC,KAAlCA,EAAc,GAAGoC,QAAQ,KAAc,IAAM,IACjEpC,EAAc,IAAM,eACpBA,EAAc,IAAM,IACpBA,EAAc,IAAMpE,IAQpBoE,EAAc,GAAGb,KAA6C,KAAtCa,EAAc,GAAGb,IAAIiD,QAAQ,KAAc,IAAM,IACzEpC,EAAc,GAAGb,KAAO,eACxBa,EAAc,GAAGb,KAAO,IACxBa,EAAc,GAAGb,KAAOvD,KAepCgE,4BAA8B,WAG1B,GAAI6B,GAAwBlI,KAAKwG,oBAAoBD,UAGrDvG,MAAK2I,oCAAoCpC,UAKzC,IAAIW,GAAoBxD,SAASc,EAAEb,KAAK2C,MAAM5C,SAASc,EAAG+B,WACtDY,EAAenH,KAAKiH,oBAAoBC,EAU5C,OAHAA,GAAkBlB,KAAKxB,EAAEuB,MAAM/F,KAAKqI,uBAAwBrI,KAAMkI,EAAuBf,IACzFD,EAAkBtC,KAAKJ,EAAEuB,MAAM/F,KAAKiI,uBAAwBjI,KAAMkI,EAAuBf,IAElFA,GAcX2B,+BAAiC,SAAS3B,EAAcrC,EAAMsD,EAAY7D,GAEtE4C,EAAarG,QAAQgE,EAAMsD,EAAY7D,IAc3CwE,+BAAiC,SAAS5B,EAAc5C,EAAOJ,EAAQmE,GAEnEnB,EAAauB,OAAOnE,EAAOJ,EAAQmE,IAcvCU,6BAA+B,SAASd,EAAuBf,EAAcrC,GAMzE9E,KAAKwD,gBAAgBV,8BAA8BL,KAAKsC,UAAUD,GAGlE,IAAIO,GAAcb,EAAEb,KAAKuE,EACzB7C,GAAYT,KAAKJ,EAAEuB,MAAM/F,KAAK8I,+BAAgC9I,KAAMmH,IACpE9B,EAAYW,KAAKxB,EAAEuB,MAAM/F,KAAK+I,+BAAgC/I,KAAMmH,KAcxE8B,4BAA8B,SAASf,EAAuBf,EAAcrC,GAMxE9E,KAAKwD,gBAAgBV,8BAA8BL,KAAKsC,UAAUD,GAGlE,IAAIO,GAAcb,EAAEb,KAAKuE,EACzB7C,GAAYT,KAAKJ,EAAEuB,MAAM/F,KAAK8I,+BAAgC9I,KAAMmH,IACpE9B,EAAYW,KAAKxB,EAAEuB,MAAM/F,KAAK+I,+BAAgC/I,KAAMmH,KAWxEqB,oBAAsB,SAASN,EAAuBf,GAGlD,GAAIvE,GAAe5C,KAAKwD,gBAAgBb,iBAIxC,IAAGC,EAAc,CAEb,GAAIyC,GAAcb,EAAEb,MAEZiC,IAAM5F,KAAKyD,eACXqB,MACIQ,WAAa,gBACbzC,cAAgBD,EAChB4C,UAAYxF,KAAKuD,WAErB2F,SAAW,OACXvD,KAAM,QAGdN,GAAYW,KAAKxB,EAAEuB,MAAM/F,KAAKyI,mBAAoBzI,KAAMmH,IACxD9B,EAAYT,KAAKJ,EAAEuB,MAAM/F,KAAKgJ,6BAA8BhJ,KAAMkI,EAAuBf,QAOzFnH,MAAKyI,mBAAmBP,EAAuBf,IAavDsB,mBAAqB,SAASP,EAAuBf,GAEjDjC,QAAQC,IAAI,qBAKZ,IAAI9D,GAAWmD,EAAEC,WAGbH,EAAqB,GAAIzE,GAAMM,kBAGnCmE,GAAmBlD,aAAaC,GAChCiD,EAAmBhD,mBAAmBtB,MAEtCA,KAAKqD,SAASiB,GAIdjD,EAASuD,KAAKJ,EAAEuB,MAAM/F,KAAKmJ,0BAA2BnJ,KAAMkI,EAAuBf,IACnF9F,EAAS2E,KAAKxB,EAAEuB,MAAM,WAGlBb,QAAQC,IAAI,+BAEbnF,QAoBPmJ,0BAA4B,SAASjB,EAAuBC,EAAciB,GAEtE,OAAOA,EAAoB9D,YAKvB,IAAK,WACD,GAAID,GAAcb,EAAEb,MAEZ4B,YAAc,mDACdT,MACIQ,WAAa,WACbG,SAAW2D,EAAoB3D,SAC/BC,SAAW0D,EAAoB1D,SAC/BF,UAAYxF,KAAKuD,WAErBoC,KAAO,OACPC,IAAK5F,KAAKyD,gBAGlB4B,GAAYT,KAAKJ,EAAEuB,MAAM/F,KAAKiJ,4BAA6BjJ,KAAMkI,EAAuBC,GAIxF,MAKJ,KAAK,qBACD3D,EAAEb,MAEM4B,YAAc,mDACdT,MACIQ,WAAa,qBACbE,UAAYxF,KAAKuD,WAErBoC,KAAO,OACPC,IAAK5F,KAAKyD,oBAmBlC5D,EAAMwJ,KAAO,SAASC,EAAWC,GAE7B,OAAOD,GACH,IAAK,UACDzJ,EAAMW,gBAAkB,GAAIX,GAAMK,QAAQ8C,sBAAsBuG,EAChE,MACJ,KAAK,WACD1J,EAAMW,gBAAkB,GAAIX,GAAMK,QAAQgD,uBAAuBqG,EACjE,MACJ,SACI,KAAM,IAAItJ,OAAM,qCAAwCqJ,EAAY,OAG5EzJ,EAAMW,gBAAgByC,SAI1BpD,EAAMgB,MAAQ,SAASqD,EAAI+B,GAEvBpG,EAAMW,gBAAgBK,MAAMqD,EAAI+B,IAI7BpG"}