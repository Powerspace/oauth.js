{"version":3,"file":"oauth.min.js","sources":["oauth.js"],"names":["root","factory","define","amd","OAuth","exports","module","this","AccessToken","Error","Request","ABNFUtils","isValidGrantName","isValidGrantType","isValidNameChar","isValidOneStarDIGIT","isValidOneStarNQCHAR","isValidOneStarNQSCHAR","isValidOneStarVSCHAR","isValidResponseChar","isValidResponseName","isValidResponseType","isValidScope","isValidScopeToken","string","isValidStarNQCHAR","isValidStarUNICODECHARNOCRLF","isValidTokenType","isValidTypeName","isValidURIReference","AuthStatus","settings","_accessTokenResponse","_status","getAccessTokenResponse","isConnected","isDisconnected","toJSON","status","accessTokenResponse","toString","JSON","stringify","FunctionUtils","bind","func","context","args","bound","ctor","slice","Array","prototype","nativeBind","Function","apply","call","arguments","TypeError","concat","self","result","Object","LoginContext","_credentials","_loginCb","_loginFnCb","_loginFnOpts","_loginOpts","_requestManager","getCredentials","getLoginCb","getLoginFnCb","sendCredentials","credentials","loginFnCb","loginFnOpts","_login","_setLoginCb","loginCb","_setLoginOpts","loginOpts","_setRequestManager","requestManager","Promise","executor","_fullfillmentListeners","_rejectionListeners","_state","value","i","length","then","onFulfilled","onRejected","push","StorageManager","configuration","_storage","localStorage","_storageKey","Storage","storage","undefined","sessionStorage","storageKey","clear","removeItem","getAccessToken","accessToken","access_token","rawAccessTokenResponse","getItem","parse","getRefreshToken","refreshToken","refresh_token","persistRawAccessTokenResponse","setItem","UrlUtils","addArgument","url","name","updatedUrl","nameEqual","argumentPos","indexOf","prefix","substring","suffix","nextArgumentPos","toQueryString","object","queryString","key","AbstractResponse","_jsonResponse","_xhr","getJsonResponse","getXhr","setJsonResponse","jsonResponse","setXhr","xhr","CriticalErrorResponse","ErrorResponse","setError","criticalErrorCodes","_error","getError","isCriticalError","test","isExtensionError","isStandardError","standardErrorCodes","isError","isSuccessful","error","isJsonResponseValid","valid","hasOwnProperty","ResponseParser","parseCriticalErrorNotJsonResponse","parseCriticalErrorResponse","parseErrorResponse","jsonObject","parseSuccessfulResponse","SuccessfulResponse","response","responseText","syntaxError","AbstractRequestManager","_accessTokenResponseParser","_storageManager","_tokenEndpoint","getLoginStatus","cb","authResponse","logout","logoutCb","AngularRequestManager","_$provide","$provide","_loginFn","loginFn","clientId","_clientId","tokenEndpoint","parseErrorFn","_parseErrorFn","opts","_loginContext","XMLHttpRequest","grant_type","open","setRequestHeader","send","client_id","username","password","onreadystatechange","_onreadystatechangeTokenEndpointPost","_onTokenEndpointPost","authStatus","promise","resolve","reject","readyState","console","log","login","_$httpGet","augmentedArguments","params","_$http","get","start","This","decorator","$delegate","wrapper","_open","slicedArguments","clonedOpenArguments","_cloneOpenArguments","_augmentOpenArguments","_backupedOpen","loginContext","BackboneRequestManager","_backupedBackboneDotAjax","_clientType","Backbone","ajax","getStorageManager","_onTokenEndpointPostError","jqXHR","deferred","$","Deferred","responseJSON","done","_onTokenEndpointPostSuccess","data","ajaxPromise","contentType","type","facebook_access_token","facebook_app_scoped_user_id","proxy","fail","_overwrittenBackboneDotAjax","_cloneAjaxArguments","ajaxArguments","clonedAjaxArguments","_cloneAjaxSettings","ajaxSettings","settingsAttributes","clonedAjaxSettings","_createOAuthPromise","jQueryAjaxPromise","oAuthPromise","getResponseHeader","getAllResponseHeaders","overrideMimeType","statusCode","map","abort","statusText","success","_jQueryAjaxPromiseDone","originalAjaxArguments","oauthPromise","textStatus","_jQueryAjaxPromiseFail","errorThrown","action","_refreshAccessToken","_reniewAccessToken","_updateAjaxArgumentsWithAccessToken","secured","_onOriginalRequestReplayedDone","_onOriginalRequestReplayedFail","_onRefreshAccessTokenSuccess","overwittenAjaxArguments","_onReniewAccessTokenSuccess","dataType","_onCredentialsPromiseDone","credentialsSettings","init","framework","forceServerCall"],"mappings":"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"}